{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./node_modules/@babel/runtime/helpers/asyncToGenerator.js","webpack:///./node_modules/@babel/runtime/helpers/classCallCheck.js","webpack:///./node_modules/@babel/runtime/helpers/createClass.js","webpack:///./node_modules/@babel/runtime/helpers/regeneratorRuntime.js","webpack:///./node_modules/@babel/runtime/helpers/toPrimitive.js","webpack:///./node_modules/@babel/runtime/helpers/toPropertyKey.js","webpack:///./node_modules/@babel/runtime/helpers/typeof.js","webpack:///./node_modules/@babel/runtime/regenerator/index.js","webpack:///./src/font/Genjiro.otf","webpack:///./src/img/SpriteEnemyDeath.png","webpack:///./src/img/arrow.png","webpack:///./src/img/background.png","webpack:///./src/img/block.png","webpack:///./src/img/blockTri.png","webpack:///./src/img/bowIcn.png","webpack:///./src/img/hills.png","webpack:///./src/img/logo.svg","webpack:///./src/img/platform.png","webpack:///./src/img/platformSmallTall.png","webpack:///./src/img/spriteAttaque.png","webpack:///./src/img/spriteAttaqueLeft.png","webpack:///./src/img/spriteBow.png","webpack:///./src/img/spriteEnemy.png","webpack:///./src/img/spriteEnemyReverse.png","webpack:///./src/img/spriteRunLeft.png","webpack:///./src/img/spriteRunRight.png","webpack:///./src/img/spriteShotLeft.png","webpack:///./src/img/spriteShotRight.png","webpack:///./src/img/spriteStandLeft.png","webpack:///./src/img/spriteStandRight.png","webpack:///./src/js/canvas.js","webpack:///./src/js/utils.js"],"names":["menu","document","createElement","id","menuImage","src","logo","startButton","textContent","appendChild","body","style","innerHTML","head","gameMusic","getElementById","volume","addEventListener","play","canvas","querySelector","c","getContext","gameStarted","display","width","height","gravity","Player","speed","lastJumpTime","position","x","y","velocity","direction","isJumping","iconImage","createImage","bowIcn","image","spriteStandRight","frames","sprites","stand","right","left","spriteStandLeft","run","spriteRunRight","spriteRunLeft","attaque","spriteAttaqueRight","spriteAttaqueLeft","shoot","spriteShootRight","spriteShootLeft","currentSprite","frameTimer","frameInterval","attacking","invincible","powerUps","Bow","opacity","save","globalAlpha","fillStyle","fillRect","drawImage","restore","keys","pressed","currentDirection","ennemies","forEach","ennemy","isColliding","Math","abs","die","setTimeout","arrowDirection","arrowStartPositionX","arrowStartPositionY","arrows","push","Arrow","updateDirection","draw","Platform","block","text","fillText","GenericObject","Ennemy","distance","limit","traveled","spriteEnemy","dying","collidable","spriteEnemyReverse","spriteEnemyDeath","index","indexOf","splice","spriteBow","arrowIcn","platformImage","platformSmallTallImage","blockTriImage","player","platforms","genericObjects","bows","lastKey","up","scrollOffset","init","timer","createImageAsync","platform","platformSmallTall","blockTri","background","hills","timerDisplay","fontFamily","top","transform","fontSize","updateTimer","seconds","floor","animate","requestAnimationFrame","genericObject","update","i","objectsTouch","object1","object2","collisionTop","drawIcon","hitSide","length","hitSideOfPlatform","object","arrow","isOnTopOfPlatform","hitBottomOfPlatform","console","log","keyCode","Date","now","attack","shootArrow","randomIntFromRange","min","max","random","randomColor","colors","x1","y1","x2","y2","xDist","yDist","sqrt","pow","rect1","rect2","imageSrc","Image","Promise","resolve","onload","verticalAdjustment","horizontalAdjustment"],"mappings":";QAAA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;;;QAGA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA,0CAA0C,gCAAgC;QAC1E;QACA;;QAEA;QACA;QACA;QACA,wDAAwD,kBAAkB;QAC1E;QACA,iDAAiD,cAAc;QAC/D;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,yCAAyC,iCAAiC;QAC1E,gHAAgH,mBAAmB,EAAE;QACrI;QACA;;QAEA;QACA;QACA;QACA,2BAA2B,0BAA0B,EAAE;QACvD,iCAAiC,eAAe;QAChD;QACA;QACA;;QAEA;QACA,sDAAsD,+DAA+D;;QAErH;QACA;;;QAGA;QACA;;;;;;;;;;;;AClFA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,iH;;;;;;;;;;;AC9BA;AACA;AACA;AACA;AACA;AACA,+G;;;;;;;;;;;ACLA,oBAAoB,mBAAO,CAAC,kFAAoB;AAChD;AACA,iBAAiB,kBAAkB;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,4G;;;;;;;;;;;AClBA,cAAc,mBAAO,CAAC,oEAAa;AACnC;AACA,eAAe;AACf;AACA;AACA,GAAG;AACH;AACA,UAAU;AACV;AACA;AACA;AACA;AACA,KAAK;AACL,iDAAiD;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,aAAa;AACb,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,SAAS;AACT;AACA,SAAS;AACT;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0DAA0D;AAC1D;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,gBAAgB;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,YAAY,UAAU;AACtB;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,QAAQ;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA,WAAW;AACX;AA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","file":"./js/canvas.bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/js/canvas.js\");\n","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\nfunction _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n      args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n      _next(undefined);\n    });\n  };\n}\nmodule.exports = _asyncToGenerator, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\nmodule.exports = _classCallCheck, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var toPropertyKey = require(\"./toPropertyKey.js\");\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, toPropertyKey(descriptor.key), descriptor);\n  }\n}\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}\nmodule.exports = _createClass, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var _typeof = require(\"./typeof.js\")[\"default\"];\nfunction _regeneratorRuntime() {\n  \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */\n  module.exports = _regeneratorRuntime = function _regeneratorRuntime() {\n    return e;\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;\n  var t,\n    e = {},\n    r = Object.prototype,\n    n = r.hasOwnProperty,\n    o = Object.defineProperty || function (t, e, r) {\n      t[e] = r.value;\n    },\n    i = \"function\" == typeof Symbol ? Symbol : {},\n    a = i.iterator || \"@@iterator\",\n    c = i.asyncIterator || \"@@asyncIterator\",\n    u = i.toStringTag || \"@@toStringTag\";\n  function define(t, e, r) {\n    return Object.defineProperty(t, e, {\n      value: r,\n      enumerable: !0,\n      configurable: !0,\n      writable: !0\n    }), t[e];\n  }\n  try {\n    define({}, \"\");\n  } catch (t) {\n    define = function define(t, e, r) {\n      return t[e] = r;\n    };\n  }\n  function wrap(t, e, r, n) {\n    var i = e && e.prototype instanceof Generator ? e : Generator,\n      a = Object.create(i.prototype),\n      c = new Context(n || []);\n    return o(a, \"_invoke\", {\n      value: makeInvokeMethod(t, r, c)\n    }), a;\n  }\n  function tryCatch(t, e, r) {\n    try {\n      return {\n        type: \"normal\",\n        arg: t.call(e, r)\n      };\n    } catch (t) {\n      return {\n        type: \"throw\",\n        arg: t\n      };\n    }\n  }\n  e.wrap = wrap;\n  var h = \"suspendedStart\",\n    l = \"suspendedYield\",\n    f = \"executing\",\n    s = \"completed\",\n    y = {};\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n  var p = {};\n  define(p, a, function () {\n    return this;\n  });\n  var d = Object.getPrototypeOf,\n    v = d && d(d(values([])));\n  v && v !== r && n.call(v, a) && (p = v);\n  var g = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(p);\n  function defineIteratorMethods(t) {\n    [\"next\", \"throw\", \"return\"].forEach(function (e) {\n      define(t, e, function (t) {\n        return this._invoke(e, t);\n      });\n    });\n  }\n  function AsyncIterator(t, e) {\n    function invoke(r, o, i, a) {\n      var c = tryCatch(t[r], t, o);\n      if (\"throw\" !== c.type) {\n        var u = c.arg,\n          h = u.value;\n        return h && \"object\" == _typeof(h) && n.call(h, \"__await\") ? e.resolve(h.__await).then(function (t) {\n          invoke(\"next\", t, i, a);\n        }, function (t) {\n          invoke(\"throw\", t, i, a);\n        }) : e.resolve(h).then(function (t) {\n          u.value = t, i(u);\n        }, function (t) {\n          return invoke(\"throw\", t, i, a);\n        });\n      }\n      a(c.arg);\n    }\n    var r;\n    o(this, \"_invoke\", {\n      value: function value(t, n) {\n        function callInvokeWithMethodAndArg() {\n          return new e(function (e, r) {\n            invoke(t, n, e, r);\n          });\n        }\n        return r = r ? r.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg();\n      }\n    });\n  }\n  function makeInvokeMethod(e, r, n) {\n    var o = h;\n    return function (i, a) {\n      if (o === f) throw Error(\"Generator is already running\");\n      if (o === s) {\n        if (\"throw\" === i) throw a;\n        return {\n          value: t,\n          done: !0\n        };\n      }\n      for (n.method = i, n.arg = a;;) {\n        var c = n.delegate;\n        if (c) {\n          var u = maybeInvokeDelegate(c, n);\n          if (u) {\n            if (u === y) continue;\n            return u;\n          }\n        }\n        if (\"next\" === n.method) n.sent = n._sent = n.arg;else if (\"throw\" === n.method) {\n          if (o === h) throw o = s, n.arg;\n          n.dispatchException(n.arg);\n        } else \"return\" === n.method && n.abrupt(\"return\", n.arg);\n        o = f;\n        var p = tryCatch(e, r, n);\n        if (\"normal\" === p.type) {\n          if (o = n.done ? s : l, p.arg === y) continue;\n          return {\n            value: p.arg,\n            done: n.done\n          };\n        }\n        \"throw\" === p.type && (o = s, n.method = \"throw\", n.arg = p.arg);\n      }\n    };\n  }\n  function maybeInvokeDelegate(e, r) {\n    var n = r.method,\n      o = e.iterator[n];\n    if (o === t) return r.delegate = null, \"throw\" === n && e.iterator[\"return\"] && (r.method = \"return\", r.arg = t, maybeInvokeDelegate(e, r), \"throw\" === r.method) || \"return\" !== n && (r.method = \"throw\", r.arg = new TypeError(\"The iterator does not provide a '\" + n + \"' method\")), y;\n    var i = tryCatch(o, e.iterator, r.arg);\n    if (\"throw\" === i.type) return r.method = \"throw\", r.arg = i.arg, r.delegate = null, y;\n    var a = i.arg;\n    return a ? a.done ? (r[e.resultName] = a.value, r.next = e.nextLoc, \"return\" !== r.method && (r.method = \"next\", r.arg = t), r.delegate = null, y) : a : (r.method = \"throw\", r.arg = new TypeError(\"iterator result is not an object\"), r.delegate = null, y);\n  }\n  function pushTryEntry(t) {\n    var e = {\n      tryLoc: t[0]\n    };\n    1 in t && (e.catchLoc = t[1]), 2 in t && (e.finallyLoc = t[2], e.afterLoc = t[3]), this.tryEntries.push(e);\n  }\n  function resetTryEntry(t) {\n    var e = t.completion || {};\n    e.type = \"normal\", delete e.arg, t.completion = e;\n  }\n  function Context(t) {\n    this.tryEntries = [{\n      tryLoc: \"root\"\n    }], t.forEach(pushTryEntry, this), this.reset(!0);\n  }\n  function values(e) {\n    if (e || \"\" === e) {\n      var r = e[a];\n      if (r) return r.call(e);\n      if (\"function\" == typeof e.next) return e;\n      if (!isNaN(e.length)) {\n        var o = -1,\n          i = function next() {\n            for (; ++o < e.length;) if (n.call(e, o)) return next.value = e[o], next.done = !1, next;\n            return next.value = t, next.done = !0, next;\n          };\n        return i.next = i;\n      }\n    }\n    throw new TypeError(_typeof(e) + \" is not iterable\");\n  }\n  return GeneratorFunction.prototype = GeneratorFunctionPrototype, o(g, \"constructor\", {\n    value: GeneratorFunctionPrototype,\n    configurable: !0\n  }), o(GeneratorFunctionPrototype, \"constructor\", {\n    value: GeneratorFunction,\n    configurable: !0\n  }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, u, \"GeneratorFunction\"), e.isGeneratorFunction = function (t) {\n    var e = \"function\" == typeof t && t.constructor;\n    return !!e && (e === GeneratorFunction || \"GeneratorFunction\" === (e.displayName || e.name));\n  }, e.mark = function (t) {\n    return Object.setPrototypeOf ? Object.setPrototypeOf(t, GeneratorFunctionPrototype) : (t.__proto__ = GeneratorFunctionPrototype, define(t, u, \"GeneratorFunction\")), t.prototype = Object.create(g), t;\n  }, e.awrap = function (t) {\n    return {\n      __await: t\n    };\n  }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, c, function () {\n    return this;\n  }), e.AsyncIterator = AsyncIterator, e.async = function (t, r, n, o, i) {\n    void 0 === i && (i = Promise);\n    var a = new AsyncIterator(wrap(t, r, n, o), i);\n    return e.isGeneratorFunction(r) ? a : a.next().then(function (t) {\n      return t.done ? t.value : a.next();\n    });\n  }, defineIteratorMethods(g), define(g, u, \"Generator\"), define(g, a, function () {\n    return this;\n  }), define(g, \"toString\", function () {\n    return \"[object Generator]\";\n  }), e.keys = function (t) {\n    var e = Object(t),\n      r = [];\n    for (var n in e) r.push(n);\n    return r.reverse(), function next() {\n      for (; r.length;) {\n        var t = r.pop();\n        if (t in e) return next.value = t, next.done = !1, next;\n      }\n      return next.done = !0, next;\n    };\n  }, e.values = values, Context.prototype = {\n    constructor: Context,\n    reset: function reset(e) {\n      if (this.prev = 0, this.next = 0, this.sent = this._sent = t, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = t, this.tryEntries.forEach(resetTryEntry), !e) for (var r in this) \"t\" === r.charAt(0) && n.call(this, r) && !isNaN(+r.slice(1)) && (this[r] = t);\n    },\n    stop: function stop() {\n      this.done = !0;\n      var t = this.tryEntries[0].completion;\n      if (\"throw\" === t.type) throw t.arg;\n      return this.rval;\n    },\n    dispatchException: function dispatchException(e) {\n      if (this.done) throw e;\n      var r = this;\n      function handle(n, o) {\n        return a.type = \"throw\", a.arg = e, r.next = n, o && (r.method = \"next\", r.arg = t), !!o;\n      }\n      for (var o = this.tryEntries.length - 1; o >= 0; --o) {\n        var i = this.tryEntries[o],\n          a = i.completion;\n        if (\"root\" === i.tryLoc) return handle(\"end\");\n        if (i.tryLoc <= this.prev) {\n          var c = n.call(i, \"catchLoc\"),\n            u = n.call(i, \"finallyLoc\");\n          if (c && u) {\n            if (this.prev < i.catchLoc) return handle(i.catchLoc, !0);\n            if (this.prev < i.finallyLoc) return handle(i.finallyLoc);\n          } else if (c) {\n            if (this.prev < i.catchLoc) return handle(i.catchLoc, !0);\n          } else {\n            if (!u) throw Error(\"try statement without catch or finally\");\n            if (this.prev < i.finallyLoc) return handle(i.finallyLoc);\n          }\n        }\n      }\n    },\n    abrupt: function abrupt(t, e) {\n      for (var r = this.tryEntries.length - 1; r >= 0; --r) {\n        var o = this.tryEntries[r];\n        if (o.tryLoc <= this.prev && n.call(o, \"finallyLoc\") && this.prev < o.finallyLoc) {\n          var i = o;\n          break;\n        }\n      }\n      i && (\"break\" === t || \"continue\" === t) && i.tryLoc <= e && e <= i.finallyLoc && (i = null);\n      var a = i ? i.completion : {};\n      return a.type = t, a.arg = e, i ? (this.method = \"next\", this.next = i.finallyLoc, y) : this.complete(a);\n    },\n    complete: function complete(t, e) {\n      if (\"throw\" === t.type) throw t.arg;\n      return \"break\" === t.type || \"continue\" === t.type ? this.next = t.arg : \"return\" === t.type ? (this.rval = this.arg = t.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === t.type && e && (this.next = e), y;\n    },\n    finish: function finish(t) {\n      for (var e = this.tryEntries.length - 1; e >= 0; --e) {\n        var r = this.tryEntries[e];\n        if (r.finallyLoc === t) return this.complete(r.completion, r.afterLoc), resetTryEntry(r), y;\n      }\n    },\n    \"catch\": function _catch(t) {\n      for (var e = this.tryEntries.length - 1; e >= 0; --e) {\n        var r = this.tryEntries[e];\n        if (r.tryLoc === t) {\n          var n = r.completion;\n          if (\"throw\" === n.type) {\n            var o = n.arg;\n            resetTryEntry(r);\n          }\n          return o;\n        }\n      }\n      throw Error(\"illegal catch attempt\");\n    },\n    delegateYield: function delegateYield(e, r, n) {\n      return this.delegate = {\n        iterator: values(e),\n        resultName: r,\n        nextLoc: n\n      }, \"next\" === this.method && (this.arg = t), y;\n    }\n  }, e;\n}\nmodule.exports = _regeneratorRuntime, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var _typeof = require(\"./typeof.js\")[\"default\"];\nfunction toPrimitive(t, r) {\n  if (\"object\" != _typeof(t) || !t) return t;\n  var e = t[Symbol.toPrimitive];\n  if (void 0 !== e) {\n    var i = e.call(t, r || \"default\");\n    if (\"object\" != _typeof(i)) return i;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (\"string\" === r ? String : Number)(t);\n}\nmodule.exports = toPrimitive, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var _typeof = require(\"./typeof.js\")[\"default\"];\nvar toPrimitive = require(\"./toPrimitive.js\");\nfunction toPropertyKey(t) {\n  var i = toPrimitive(t, \"string\");\n  return \"symbol\" == _typeof(i) ? i : i + \"\";\n}\nmodule.exports = toPropertyKey, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _typeof(o) {\n  \"@babel/helpers - typeof\";\n\n  return (module.exports = _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) {\n    return typeof o;\n  } : function (o) {\n    return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o;\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports), _typeof(o);\n}\nmodule.exports = _typeof, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","// TODO(Babel 8): Remove this file.\n\nvar runtime = require(\"../helpers/regeneratorRuntime\")();\nmodule.exports = runtime;\n\n// Copied from https://github.com/facebook/regenerator/blob/main/packages/runtime/runtime.js#L736=\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  if (typeof globalThis === \"object\") {\n    globalThis.regeneratorRuntime = runtime;\n  } else {\n    Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n  }\n}\n","export default __webpack_public_path__ + \"fonts/Genjiro.ab664676c3514216fec7bdb5b39a43d7.otf\";","export default __webpack_public_path__ + \"images/SpriteEnemyDeath.388d7325a5b7ddffbf93c1861daec6c2.png\";","export default __webpack_public_path__ + \"images/arrow.38cdf0209bf5c2f5039989333034e2c0.png\";","export default __webpack_public_path__ + \"images/background.0357d163e2edd7add0fe1b819168bd73.png\";","export default __webpack_public_path__ + \"images/block.fac88169424b827f4bbca82bd7a01a9f.png\";","export default __webpack_public_path__ + \"images/blockTri.0f732b622c2a2a256940ec159c5a7941.png\";","export default __webpack_public_path__ + \"images/bowIcn.0ed577e2ad8f6087a35ef95db05e4787.png\";","export default __webpack_public_path__ + \"images/hills.1a64aadc495fff3144ab2a0eb793eb37.png\";","export default __webpack_public_path__ + \"images/logo.2e68f38db6d11486202b1ca945d17c1e.svg\";","export default __webpack_public_path__ + \"images/platform.b9a187515e4332f3e49a3fdc571afeae.png\";","export default __webpack_public_path__ + \"images/platformSmallTall.7ad1c50ad7a771a4f5dd5c019d4cb8b2.png\";","export default __webpack_public_path__ + \"images/spriteAttaque.1b48fd381bbf8f7214ceb213cbeb7381.png\";","export default __webpack_public_path__ + \"images/spriteAttaqueLeft.57b0ee7d71d6baf7c9772857388041a6.png\";","export default __webpack_public_path__ + \"images/spriteBow.f9e94b676540256a7307297f856aebb2.png\";","export default __webpack_public_path__ + \"images/spriteEnemy.25fb69c6c5d90c6205471c32fb088c20.png\";","export default __webpack_public_path__ + \"images/spriteEnemyReverse.a3949a5d1e66b4d2b523683487fb1c01.png\";","export default __webpack_public_path__ + \"images/spriteRunLeft.137c0756a50f7240c4998e9a3134a031.png\";","export default __webpack_public_path__ + \"images/spriteRunRight.6746b0abc95f152904874aac3bb02972.png\";","export default __webpack_public_path__ + \"images/spriteShotLeft.e86fd783489a6581660416dba8cd70ee.png\";","export default __webpack_public_path__ + \"images/spriteShotRight.9a5c03b1913845655de37c6e0d00af83.png\";","export default __webpack_public_path__ + \"images/spriteStandLeft.08374e69796b6b8c044b484595fb3880.png\";","export default __webpack_public_path__ + \"images/spriteStandRight.e8d0bdb91063afaddef07897c15452e6.png\";","import {isOnTopOfPlatform, collisionTop, isColliding, createImage, createImageAsync, hitBottomOfPlatform, hitSideOfPlatform, objectsTouch} from './utils.js'\r\n\r\nimport platform from '../img/platform.png'\r\nimport hills from '../img/hills.png'\r\nimport background from '../img/background.png'\r\nimport platformSmallTall from '../img/platformSmallTall.png'\r\nimport block from '../img/block.png'\r\nimport blockTri from '../img/blockTri.png'\r\nimport bowIcn from '../img/bowIcn.png'\r\nimport arrowIcn from '../img/arrow.png'\r\nimport spriteShootRight from '../img/spriteShotRight.png'\r\nimport spriteShootLeft from '../img/spriteShotLeft.png'\r\n\r\nimport spriteRunLeft from '../img/spriteRunLeft.png'\r\nimport spriteRunRight from '../img/spriteRunRight.png'\r\nimport spriteStandLeft from '../img/spriteStandLeft.png'\r\nimport spriteStandRight from '../img/spriteStandRight.png'\r\nimport spriteEnemy from '../img/spriteEnemy.png'\r\nimport spriteEnemyReverse from '../img/spriteEnemyReverse.png'\r\nimport spriteEnemyDeath from '../img/SpriteEnemyDeath.png'\r\nimport spriteAttaqueRight from '../img/spriteAttaque.png'\r\nimport spriteAttaqueLeft from '../img/spriteAttaqueLeft.png'\r\nimport spriteBow from '../img/spriteBow.png'\r\n\r\n\r\nimport logo from '../img/logo.svg'\r\nimport Genjiro from '../font/Genjiro.otf';\r\n\r\nconst menu = document.createElement('div');\r\nmenu.id = 'menu';\r\nconst menuImage = document.createElement('img');\r\nmenuImage.src = logo\r\nconst startButton = document.createElement('button');\r\nstartButton.id = 'startButton';\r\nstartButton.textContent = 'Start';\r\nmenu.appendChild(menuImage);\r\nmenu.appendChild(startButton);\r\ndocument.body.appendChild(menu);\r\n\r\nconst style = document.createElement('style');\r\nstyle.innerHTML = `\r\n    #menu {\r\n        position: absolute;\r\n        width: 100%;\r\n        height: 100%;\r\n        background: rgba(0, 0, 0, 0.7);\r\n        display: flex;\r\n        flex-direction: column;\r\n        align-items: center;\r\n        justify-content: center;\r\n        z-index: 1;\r\n    }\r\n\r\n    #menu img {\r\n        max-width: 15%;\r\n        height: auto;\r\n        margin-bottom: 50px;\r\n    }\r\n\r\n    #menu button {\r\n        padding: 15px 30px;\r\n        font-size: 28px;\r\n        cursor: pointer;\r\n        border-radius: 5px;\r\n        background-color: #74a6ff;\r\n        color: black;\r\n        font-family: 'Genjiro', sans-serif;\r\n        letter-spacing: 5px;\r\n    }\r\n\r\n    canvas {\r\n        display: block;\r\n    }\r\n`;\r\ndocument.head.appendChild(style);\r\n\r\nconst gameMusic = document.getElementById('gameMusic');\r\n\r\ngameMusic.volume = 0.5;\r\n\r\nstartButton.addEventListener('click', () => {\r\n  gameMusic.play();\r\n});\r\n\r\nconst canvas = document.querySelector('canvas')\r\nconst c = canvas.getContext('2d')\r\n\r\nlet gameStarted = false;\r\n\r\nstartButton.addEventListener('click', () => {\r\n  menu.style.display = 'none';\r\n  gameStarted = true;\r\n});\r\n\r\ncanvas.width = 1024\r\ncanvas.height = 576\r\n\r\nconst gravity = 1\r\n\r\nclass Player {\r\n  constructor() {\r\n    this.speed = 5\r\n    this.lastJumpTime = 0\r\n    this.position = {\r\n      x: 100,\r\n      y: 100\r\n    }\r\n    this.velocity = {\r\n      x: 0,\r\n      y: 0\r\n    }\r\n\r\n    this.width = 200  // taille player\r\n    this.height = 200\r\n    this.direction = 'right'\r\n    this.isJumping = false // jump?\r\n    this.iconImage = createImage(bowIcn)\r\n\r\n    this.image = createImage(spriteStandRight)\r\n    this.frames = 0\r\n    this.sprites = {\r\n      stand: {\r\n        right: createImage(spriteStandRight),\r\n        left: createImage(spriteStandLeft)\r\n      },\r\n      run: {\r\n        right: createImage(spriteRunRight),\r\n        left: createImage(spriteRunLeft)\r\n      },\r\n      attaque: {\r\n        right: createImage(spriteAttaqueRight),\r\n        left: createImage(spriteAttaqueLeft)\r\n      },\r\n      shoot: {\r\n        right: createImage(spriteShootRight),\r\n        left: createImage(spriteShootLeft)\r\n      }\r\n    }\r\n    \r\n    this.currentSprite = this.sprites.stand.right\r\n    this.frameTimer = 0\r\n    this.frameInterval = 20\r\n    this.attacking = false\r\n    this.invincible = false\r\n    this.powerUps = { Bow: false }\r\n    this.opacity = 1\r\n  }\r\n\r\n  draw() {\r\n    c.save()\r\n    c.globalAlpha = this.opacity\r\n    c.fillStyle = 'rgba(255, 0, 0, .2)'\r\n    c.fillRect(this.position.x, this.position.y, this.width, this.height)\r\n    c.drawImage(\r\n      this.currentSprite,\r\n      128 * this.frames,\r\n      0,\r\n      128,\r\n      128,\r\n      this.position.x,\r\n      this.position.y,\r\n      this.width,\r\n      this.height\r\n    )\r\n    c.restore()\r\n  }\r\n\r\n  updateDirection() {\r\n    if (keys.left.pressed) {\r\n      this.direction = 'left';\r\n    } else if (keys.right.pressed) {\r\n      this.direction = 'right';\r\n    }\r\n  }\r\n\r\n  drawIcon() {\r\n    if (this.powerUps.Bow) {\r\n      c.drawImage(this.iconImage, 10, 10, 50, 50)\r\n    }\r\n  }\r\n\r\n  attack() {\r\n    if (!this.attacking) {\r\n      this.attacking = true;\r\n      const currentDirection = this.currentSprite === this.sprites.stand.left || this.currentSprite === this.sprites.run.left ? 'left' : 'right';\r\n      if (this.powerUps.Bow) {\r\n        this.currentSprite = this.sprites.shoot[currentDirection]\r\n      } else {\r\n        this.currentSprite = this.sprites.attaque[currentDirection];\r\n      }\r\n      this.frames = 0;\r\n\r\n      ennemies.forEach(ennemy => {\r\n        if (\r\n            isColliding(this, ennemy) &&\r\n            Math.abs(this.position.x - ennemy.position.x) < 120\r\n        ) {\r\n            ennemy.die();\r\n        }\r\n    })\r\n\r\n      setTimeout(() => {\r\n        this.attacking = false;\r\n        if (keys.left.pressed) {\r\n          this.currentSprite = this.sprites.run.left;\r\n        } else if (keys.right.pressed) {\r\n          this.currentSprite = this.sprites.run.right;\r\n        } else {\r\n          this.currentSprite = this.sprites.stand[currentDirection];\r\n        }\r\n      }, 900);\r\n    }\r\n  }\r\n\r\n  shootArrow() {\r\n    if (this.powerUps.Bow) {\r\n      let arrowDirection = this.direction === 'right' ? 1 : -1\r\n      let arrowStartPositionX = this.position.x + this.width / 2 + (arrowDirection === 1 ? 30 : -110)\r\n      let arrowStartPositionY = this.position.y + this.height / 2 - 5\r\n      arrows.push(new Arrow({\r\n        position: { x: arrowStartPositionX, y: arrowStartPositionY },\r\n        velocity: { x: 8 * arrowDirection, y: 0 }\r\n      }));\r\n    }\r\n  }\r\n  \r\n  \r\n  update() {\r\n    this.updateDirection()\r\n    if (this.attacking) {\r\n      if (this.frameTimer >= this.frameInterval) {\r\n        this.frameTimer = 0;\r\n        this.frames = (this.frames + 1) % 5;\r\n      }\r\n      this.frameTimer++;\r\n    } else {\r\n      this.frameTimer++;\r\n      if (this.frameTimer >= this.frameInterval) {\r\n        this.frameTimer = 0;\r\n        this.frames = (this.frames + 1) % 5;\r\n      }\r\n    }\r\n  \r\n    this.draw()\r\n  \r\n    // gestion jump\r\n    if (this.isJumping && this.position.y + this.height >= canvas.height - 500) {\r\n      this.velocity.y = -25\r\n      this.isJumping = false\r\n    }\r\n  \r\n    this.position.y += this.velocity.y\r\n    this.position.x += this.velocity.x\r\n  \r\n    // gravit\r\n    if (this.position.y + this.height + this.velocity.y <= canvas.height)\r\n      this.velocity.y += gravity\r\n\r\n    if (this.invincible) {\r\n      if (this.opacity === 1) this.opacity = 0\r\n      else this.opacity = 1\r\n    } else this.opacity = 1\r\n  }\r\n}  \r\n\r\nclass Platform {\r\n  constructor({ x, y, image, block, text }) {\r\n    this.position = {\r\n      x,\r\n      y\r\n    }\r\n\r\n    this.velocity = {\r\n      x: 0\r\n    }\r\n\r\n    this.image = image\r\n    this.width = image.width // taille platforms\r\n    this.height = image.height\r\n    this.block = block\r\n    this.text = text\r\n  }\r\n\r\n  draw() {\r\n    c.drawImage(this.image, this.position.x, this.position.y)\r\n\r\n    if (this.text) {\r\n      c.fillStyle = 'red'\r\n      c.fillText(this.text, this.position.x, this.position.y)\r\n    }\r\n  }\r\n\r\n  update() {\r\n    this.draw()\r\n    this.position.x += this.velocity.x \r\n  }\r\n}\r\n\r\n// dcoration\r\nclass GenericObject {\r\n  constructor({ x, y, image }) {\r\n    this.position = {\r\n      x,\r\n      y\r\n    }\r\n\r\n    this.velocity = {\r\n      x: 0\r\n    }\r\n    \r\n    this.image = image\r\n    this.width = image.width\r\n    this.height = image.height\r\n  }\r\n\r\n  draw() {\r\n    c.drawImage(this.image, this.position.x, this.position.y)\r\n  }\r\n\r\n  update() {\r\n    this.draw()\r\n    this.position.x += this.velocity.x \r\n  }\r\n}\r\n\r\nclass Ennemy {\r\n  constructor({ position, velocity, distance = { limit: 200, traveled: 0 } }) {\r\n    this.position = {\r\n      x: position.x,\r\n      y: position.y\r\n    }\r\n\r\n    this.velocity = {\r\n      x: velocity.x,\r\n      y: velocity.y\r\n    }\r\n\r\n    this.width = 200\r\n    this.height = 200\r\n\r\n    this.image = createImage(spriteEnemy)\r\n    this.frames = 0\r\n\r\n    this.direction = 'left'\r\n    this.distance = distance\r\n\r\n    this.frameTimer = 0\r\n    this.frameInterval = 20\r\n    this.dying = false\r\n    this.collidable = true\r\n  }\r\n\r\n  draw() {\r\n    c.drawImage(\r\n      this.image,\r\n      128 * this.frames,\r\n      0,\r\n      128,\r\n      128,\r\n      this.position.x,\r\n      this.position.y,\r\n      this.width,\r\n      this.height\r\n    )\r\n  }\r\n\r\n  update() {\r\n    if (this.dying) {\r\n      this.velocity.x = 0\r\n      this.velocity.y = 0\r\n      this.frameTimer++\r\n      if (this.frameTimer >= this.frameInterval) {\r\n        this.frameTimer = 0\r\n        this.frames = (this.frames + 1) % 12\r\n      }\r\n    } else {\r\n      this.frameTimer++\r\n      if (this.frameTimer >= this.frameInterval) {\r\n        this.frameTimer = 0\r\n        this.frames = (this.frames + 1) % 5\r\n      }\r\n      this.position.x += this.velocity.x\r\n      this.position.y += this.velocity.y\r\n\r\n      if (this.position.y + this.height + this.velocity.y <= canvas.height)\r\n        this.velocity.y += gravity\r\n\r\n      // marche avant-arrire\r\n      this.distance.traveled += Math.abs(this.velocity.x)\r\n\r\n      if (this.distance.traveled > this.distance.limit) {\r\n        this.distance.traveled = 0\r\n        this.velocity.x = -this.velocity.x\r\n        this.direction = (this.direction === 'left') ? 'right' : 'left'\r\n        this.image = (this.direction === 'left') ? createImage(spriteEnemy) : createImage(spriteEnemyReverse)\r\n      }\r\n    }\r\n\r\n    this.draw()\r\n  }\r\n\r\n  die() {\r\n    this.dying = true\r\n    this.collidable = false\r\n    this.image = createImage(spriteEnemyDeath)\r\n    setTimeout(() => {\r\n      const index = ennemies.indexOf(this)\r\n      if (index !== -1) {\r\n        ennemies.splice(index, 1)\r\n      }\r\n    }, 1000)\r\n  }\r\n}\r\n\r\nclass Bow {\r\n  constructor({ position, velocity}) {\r\n    this.position = {\r\n      x: position.x,\r\n      y: position.y\r\n    }\r\n\r\n    this.velocity = {\r\n      x: velocity.x,\r\n      y: velocity.y\r\n    }\r\n\r\n    this.width = 64\r\n    this.height = 64\r\n\r\n    this.image = createImage(spriteBow)\r\n    this.frames = 0\r\n\r\n    this.frameTimer = 0\r\n    this.frameInterval = 30\r\n  }\r\n\r\n  draw() {\r\n    c.drawImage(\r\n      this.image,\r\n      32 * this.frames,\r\n      0,\r\n      32,\r\n      32,\r\n      this.position.x,\r\n      this.position.y,\r\n      this.width,\r\n      this.height\r\n    )\r\n  }\r\n\r\n  update() {\r\n    if (this.dying) {\r\n      this.velocity.x = 0\r\n      this.velocity.y = 0\r\n      this.frameTimer++\r\n      if (this.frameTimer >= this.frameInterval) {\r\n        this.frameTimer = 0\r\n        this.frames = (this.frames + 1) % 12\r\n      }\r\n    } else {\r\n      this.frameTimer++\r\n      if (this.frameTimer >= this.frameInterval) {\r\n        this.frameTimer = 0\r\n        this.frames = (this.frames + 1) % 5\r\n      }\r\n      this.position.x += this.velocity.x\r\n      this.position.y += this.velocity.y\r\n\r\n      if (this.position.y + this.height + this.velocity.y <= canvas.height)\r\n        this.velocity.y += gravity\r\n    }\r\n    this.draw()\r\n  }\r\n}\r\n\r\nclass Arrow {\r\n  constructor({ position, velocity}) {\r\n    this.position = {\r\n      x: position.x,\r\n      y: position.y\r\n    }\r\n\r\n    this.velocity = {\r\n      x: velocity.x,\r\n      y: velocity.y\r\n    }\r\n\r\n    this.width = 64\r\n    this.height = 64\r\n\r\n    this.image = createImage(arrowIcn)\r\n  }\r\n\r\n  draw() {\r\n    c.drawImage(\r\n      this.image,\r\n      this.position.x,\r\n      this.position.y,\r\n      this.width,\r\n      this.height\r\n    )\r\n  }\r\n\r\n  update() {\r\n    this.position.x += this.velocity.x\r\n    this.position.y += this.velocity.y\r\n\r\n    this.draw()\r\n  }\r\n}\r\n\r\nlet platformImage\r\nlet platformSmallTallImage\r\nlet blockTriImage\r\n\r\nlet player = new Player()\r\nlet platforms = []\r\nlet genericObjects = []\r\nlet ennemies = []\r\nlet bows = []\r\nlet arrows = []\r\n\r\nlet lastKey\r\nconst keys = {\r\n  right: {\r\n    pressed: false\r\n  },\r\n  left: {\r\n    pressed: false\r\n  },\r\n  up: {\r\n    pressed:false\r\n  }\r\n}\r\n\r\nlet scrollOffset = 0\r\n\r\nasync function init(){\r\n  timer = 0\r\n  platformImage = await createImageAsync(platform)\r\n  platformSmallTallImage = await createImageAsync(platformSmallTall)\r\n  blockTriImage = await createImageAsync(blockTri)\r\n\r\n  bows = [\r\n    new Bow({\r\n      position: {\r\n        x: 400,\r\n        y: 200,\r\n      },\r\n      velocity: {\r\n        x:0,\r\n        y:0\r\n      }\r\n    })\r\n  ]\r\n\r\n  player = new Player()\r\n  ennemies = [\r\n    new Ennemy({\r\n      position: {\r\n        x: 800, \r\n        y: 100,\r\n      },\r\n      velocity: {\r\n        x: -0.3,\r\n        y: 0,\r\n      },\r\n      distance: {\r\n        limit: 300,\r\n        traveled: 0\r\n      }\r\n    }),\r\n    new Ennemy({\r\n      position: {\r\n        x: 1400, \r\n        y: 100,\r\n      },\r\n      velocity: {\r\n        x: -0.3,\r\n        y: 0,\r\n      }\r\n    })\r\n  ]\r\n  // array platforms + positions\r\n  platforms = [new Platform({\r\n    x:platformImage.width *4 + 300 -2 + platformImage.width - platformSmallTallImage.width, y:270, image: platformSmallTallImage\r\n  }), new Platform({\r\n    x: -1, y: 470, image: platformImage\r\n  }), new Platform({\r\n    x:platformImage.width -3, y:470, image: platformImage\r\n  }), new Platform({\r\n    x:platformImage.width *2 + 100 , y:470, image: platformImage, block: true\r\n  }),new Platform({\r\n    x:platformImage.width *3 + 300 , y:470, image: platformImage, block: true\r\n  }),new Platform({\r\n    x:platformImage.width *4 + 300 -2, y:470, image: platformImage\r\n  }), new Platform({\r\n    x:platformImage.width *5 + 640 -2, y:470, image: platformImage, block: true\r\n  }),new Platform({\r\n    x:600, y: 100, image: blockTriImage, block: true\r\n  })]\r\n\r\n  genericObjects = [\r\n    new GenericObject({\r\n      x: -1,\r\n      y: -1,\r\n      image: createImage(background)\r\n    }),\r\n    new GenericObject({\r\n      x: -1,\r\n      y: -1,\r\n      image: createImage(hills)\r\n    }),\r\n  ]\r\n\r\n  scrollOffset = 0\r\n}\r\n\r\nconst timerDisplay = document.createElement('div');\r\ntimerDisplay.id = 'timerDisplay';\r\ntimerDisplay.style.position = 'absolute';\r\ntimerDisplay.style.fontFamily = 'Genjiro';\r\ntimerDisplay.style.top = '25%';\r\ntimerDisplay.style.left = '70%';\r\ntimerDisplay.style.transform = 'translateX(-50%)';\r\ntimerDisplay.style.fontSize = '24px';\r\ndocument.body.appendChild(timerDisplay);\r\n\r\nlet timer = 0;\r\n\r\nfunction updateTimer() {\r\n  const seconds = Math.floor(timer / 144);\r\n  timerDisplay.textContent = `Timer: ${seconds}`;\r\n}\r\n\r\n\r\nfunction animate() {\r\n  requestAnimationFrame(animate);\r\n\r\n  if (gameStarted) {\r\n    timer++;\r\n    updateTimer();\r\n  }\r\n\r\n  c.fillStyle = 'white';\r\n  c.fillRect(0, 0, canvas.width, canvas.height);\r\n\r\n  genericObjects.forEach(genericObject => {\r\n    genericObject.update()\r\n    genericObject.velocity.x = 0\r\n  });\r\n\r\n  platforms.forEach(platform => {\r\n    platform.update()\r\n    platform.velocity.x = 0\r\n  })\r\n\r\n  bows.forEach((Bow, i) => {\r\n    if (objectsTouch({\r\n      object1: player,\r\n      object2: Bow\r\n    })) {\r\n      setTimeout(() => {\r\n        bows.splice(i, 1)\r\n        player.powerUps.Bow = true\r\n      }, 0);\r\n    } else Bow.update()\r\n  })\r\n\r\n  ennemies.forEach((ennemy, index) => {\r\n    ennemy.update()\r\n  \r\n    if (collisionTop({\r\n      object1: player,\r\n      object2: ennemy\r\n    })) {\r\n      if (!ennemy.dying) {\r\n        player.velocity.y -= 40\r\n        ennemy.die()\r\n      }\r\n    } else if (\r\n      ennemy.collidable &&\r\n      player.position.x + player.width - 140 >= ennemy.position.x &&\r\n      player.position.y + player.height - 128 >= ennemy.position.y &&\r\n      player.position.x <= ennemy.position.x + ennemy.width - 140\r\n    ) {\r\n      if (player.powerUps.Bow) {\r\n        player.invincible = true\r\n        player.powerUps.Bow = false\r\n  \r\n        setTimeout(() => {\r\n          player.invincible = false\r\n        }, 1000);\r\n      } else if (!player.invincible) init()\r\n    }\r\n  })\r\n  \r\n  player.updateDirection()\r\n  player.update()\r\n  player.drawIcon()\r\n\r\n  let hitSide = false\r\n\r\n  if (keys.right.pressed && player.position.x < 400) {\r\n    player.velocity.x = player.speed;\r\n  } else if ((keys.left.pressed && player.position.x > 50)\r\n    || keys.left.pressed && scrollOffset === 0 && player.position.x > 0) {\r\n    player.velocity.x = -player.speed;\r\n  } else {\r\n    player.velocity.x = 0;\r\n\r\n    // code de scroll\r\n    if (keys.right.pressed) {\r\n      for (let i = 0; i < platforms.length; i++) {\r\n        const platform = platforms[i]\r\n        platform.velocity.x = -player.speed\r\n\r\n        if (\r\n          platform.block &&\r\n          hitSideOfPlatform({\r\n            object: player,\r\n            platform\r\n          })\r\n        ) {\r\n          platforms.forEach((platform) => {\r\n            platform.velocity.x = 0\r\n          })\r\n\r\n          hitSide = true\r\n          break\r\n        }\r\n      }\r\n\r\n      if (!hitSide) {\r\n        scrollOffset += player.speed\r\n        genericObjects.forEach(genericObject => {\r\n          genericObject.velocity.x = -player.speed * 0.66\r\n        })\r\n\r\n        ennemies.forEach(ennemy => {\r\n          ennemy.position.x -= player.speed\r\n        })\r\n        \r\n        bows.forEach(Bow => {\r\n          Bow.position.x -= player.speed\r\n        })\r\n      }\r\n    } else if (keys.left.pressed && scrollOffset > 0) {\r\n      for (let i = 0; i < platforms.length; i++) {\r\n        const platform = platforms[i]\r\n        platform.velocity.x = player.speed\r\n\r\n        if (\r\n          platform.block && \r\n          hitSideOfPlatform({\r\n            object: player,\r\n            platform\r\n          })\r\n        ) {\r\n          platforms.forEach((platform) => {\r\n            platform.velocity.x = 0\r\n          })\r\n  \r\n          hitSide = true\r\n          break\r\n        }\r\n      }\r\n\r\n      if (!hitSide) {\r\n        scrollOffset -= player.speed\r\n        genericObjects.forEach(genericObject => {\r\n          genericObject.velocity.x = player.speed * .66\r\n        })\r\n  \r\n        ennemies.forEach(ennemy => {\r\n          ennemy.position.x += player.speed\r\n        })\r\n\r\n        bows.forEach(Bow => {\r\n          Bow.position.x += player.speed\r\n        })\r\n      }\r\n    }\r\n  }\r\n\r\n  arrows.forEach((arrow, index) => {\r\n    arrow.update();\r\n  \r\n    if (arrow.position.x > canvas.width || arrow.position.y > canvas.height) {\r\n      arrows.splice(index, 1);\r\n    } else {\r\n      ennemies.forEach(ennemy => {\r\n        if (isColliding(arrow, ennemy)) {\r\n          ennemy.die();\r\n          arrows.splice(index, 1)\r\n        }\r\n      })\r\n    }\r\n  })\r\n\r\n  // collision platform\r\n  platforms.forEach(platform => {\r\n    if (isOnTopOfPlatform({ object: player, platform })) {\r\n      player.velocity.y = 0;\r\n      player.position.y = platform.position.y - player.height;\r\n    }\r\n\r\n    if (platform.block && hitBottomOfPlatform({\r\n      object: player,\r\n      platform\r\n    })) {\r\n      player.velocity.y = -player.velocity.y\r\n    }\r\n\r\n    if (platform.block && hitSideOfPlatform({\r\n      object: player,\r\n      platform\r\n    })) {\r\n      player.velocity.x = 0\r\n    }\r\n\r\n    ennemies.forEach(ennemy => {\r\n      if (ennemy.collidable && isOnTopOfPlatform({ object: ennemy, platform })) {\r\n        ennemy.velocity.y = 0;\r\n      }\r\n    })\r\n\r\n    bows.forEach(Bow => {\r\n      if (isOnTopOfPlatform({ object: Bow, platform })) {\r\n        Bow.velocity.y = 0;\r\n      }\r\n    })\r\n  });\r\n\r\n  if (keys.right.pressed && lastKey === 'right' && !player.attacking && player.currentSprite !== player.sprites.run.right) {\r\n    player.frames = 1;\r\n    player.currentSprite = player.sprites.run.right;\r\n  } else if (keys.left.pressed && lastKey === 'left' && !player.attacking && player.currentSprite !== player.sprites.run.left) {\r\n    player.currentSprite = player.sprites.run.left;\r\n  } else if (!keys.left.pressed && lastKey === 'left' && !player.attacking && player.currentSprite !== player.sprites.stand.left) {\r\n    player.currentSprite = player.sprites.stand.left;\r\n  } else if (!keys.right.pressed && lastKey === 'right' && !player.attacking && player.currentSprite !== player.sprites.stand.right) {\r\n    player.currentSprite = player.sprites.stand.right;\r\n  }\r\n\r\n  if (platformImage && scrollOffset > platformImage.width * 5 + 300 - 2) {\r\n    console.log('you win');\r\n  }\r\n\r\n  if (player.position.y > canvas.height) {\r\n    console.log('you lose');\r\n    init();\r\n  }\r\n}\r\n\r\ninit();\r\nanimate();\r\n\r\n// Fonction keydown\r\naddEventListener('keydown', ({ keyCode }) => {\r\n  if (!gameStarted) return;\r\n  if (!player.attacking) {\r\n    switch (keyCode) {\r\n      case 81: // Q - Gauche\r\n        keys.left.pressed = true;\r\n        lastKey = 'left';\r\n        player.currentSprite = player.sprites.run.left;\r\n        break;\r\n      case 83: // S - Bas\r\n        break;\r\n      case 68: // D - Droite\r\n        keys.right.pressed = true;\r\n        lastKey = 'right';\r\n        player.currentSprite = player.sprites.run.right;\r\n        break;\r\n      case 90: // Z - Haut\r\n        keys.up.pressed = true;\r\n        if (!player.isJumping && (Date.now() - player.lastJumpTime) > 600) {\r\n          player.isJumping = true;\r\n          player.lastJumpTime = Date.now();\r\n        }\r\n        lastKey = 'up';\r\n        break;\r\n      case 32: // Espace - Attaque\r\n        player.attack();\r\n        player.shootArrow();\r\n        // Empcher le mouvement pendant l'attaque\r\n        keys.left.pressed = false;\r\n        keys.right.pressed = false;\r\n        break;\r\n    }\r\n  }\r\n});\r\n\r\n// Fonction keyup\r\naddEventListener('keyup', ({ keyCode }) => {\r\n  if (!player.attacking) {\r\n    switch (keyCode) {\r\n      case 81: // Q - Gauche\r\n        keys.left.pressed = false;\r\n        if (keys.right.pressed) {\r\n          player.currentSprite = player.sprites.run.right;\r\n          lastKey = 'right';\r\n        } else {\r\n          player.currentSprite = player.sprites.stand.left;\r\n          lastKey = 'left';\r\n        }\r\n        break;\r\n      case 83: // S - Bas\r\n        break;\r\n      case 68: // D - Droite\r\n        keys.right.pressed = false;\r\n        if (keys.left.pressed) {\r\n          player.currentSprite = player.sprites.run.left;\r\n          lastKey = 'left';\r\n        } else {\r\n          player.currentSprite = player.sprites.stand.right;\r\n          lastKey = 'right';\r\n        }\r\n        break;\r\n      case 90: // Z - Haut\r\n        keys.up.pressed = false;\r\n        break;\r\n    }\r\n  }\r\n})","function randomIntFromRange(min, max) {\r\n  return Math.floor(Math.random() * (max - min + 1) + min)\r\n}\r\n\r\nfunction randomColor(colors) {\r\n  return colors[Math.floor(Math.random() * colors.length)]\r\n}\r\n\r\nfunction distance(x1, y1, x2, y2) {\r\n  const xDist = x2 - x1\r\n  const yDist = y2 - y1\r\n\r\n  return Math.sqrt(Math.pow(xDist, 2) + Math.pow(yDist, 2))\r\n}\r\n\r\nexport function isOnTopOfPlatform({ object,platform }) {\r\n  return (\r\n    object.position.x + 75 < platform.position.x + platform.width &&\r\n    object.position.x + object.width - 75 > platform.position.x &&\r\n    object.position.y < platform.position.y + platform.height &&\r\n    object.position.y + object.height > platform.position.y &&\r\n    object.position.y < platform.position.y &&\r\n    object.velocity.y >= 0\r\n  )\r\n}\r\n\r\nexport function collisionTop({ object1, object2 }) {\r\n  return (\r\n    object2.collidable && // Check if the enemy is collidable\r\n    object1.position.x + 75 < object2.position.x + object2.width &&\r\n    object1.position.x + object1.width - 75 > object2.position.x &&\r\n    object1.position.y + object1.height <= object2.position.y &&\r\n    object1.position.y + object1.height + object1.velocity.y >= object2.position.y\r\n  )\r\n}\r\n\r\nexport function isColliding(rect1, rect2) {\r\n  return (\r\n    rect1.position.x < rect2.position.x + rect2.width &&\r\n    rect1.position.x + rect1.width > rect2.position.x &&\r\n    rect1.position.y < rect2.position.y + rect2.height &&\r\n    rect1.position.y + rect1.height > rect2.position.y\r\n  );\r\n}\r\n\r\nexport function createImage(imageSrc){\r\n  const image = new Image()\r\n  image.src = imageSrc\r\n  return image\r\n}\r\n\r\nexport function createImageAsync(imageSrc){\r\n  return new Promise((resolve) => {\r\n    const image = new Image()\r\n    image.onload = () => {\r\n      resolve(image)\r\n    }\r\n    image.src = imageSrc\r\n  })\r\n}\r\n\r\nexport function hitBottomOfPlatform({object, platform}) {\r\n  const verticalAdjustment = - 50\r\n  const horizontalAdjustment = 90\r\n\r\n  return object.position.y <= platform.position.y + platform.height + verticalAdjustment\r\n    && object.position.y - object.velocity.y >= platform.position.y + platform.height + verticalAdjustment\r\n    && object.position.x + object.width >= platform.position.x + horizontalAdjustment\r\n    && object.position.x <= platform.position.x + platform.width - horizontalAdjustment;\r\n}\r\n\r\n\r\nexport function hitSideOfPlatform({object, platform}) {\r\n  const verticalAdjustment = - 50;\r\n  const horizontalAdjustment = - 90;\r\n\r\n  return (\r\n    object.position.x + object.width + object.velocity.x - platform.velocity.x >= platform.position.x - horizontalAdjustment\r\n    && object.position.x + object.velocity.x <= platform.position.x + platform.width + horizontalAdjustment\r\n    && object.position.y <= platform.position.y + platform.height + verticalAdjustment\r\n    && object.position.y + object.height >= platform.position.y - verticalAdjustment\r\n  )\r\n}\r\n\r\nexport function objectsTouch({object1, object2}) {\r\n  const verticalAdjustment = - 50;\r\n  const horizontalAdjustment = - 90;\r\n\r\n  return (\r\n    object1.position.x + object1.width >= object2.position.x - horizontalAdjustment\r\n    && object1.position.x <= object2.position.x + object2.width + horizontalAdjustment\r\n    && object1.position.y + object1.height >+ object2.position.x + verticalAdjustment\r\n    && object1.position.y <= object2.position.x + object2.height - verticalAdjustment\r\n  )\r\n}\r\n\r\n"],"sourceRoot":""}